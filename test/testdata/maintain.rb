## 使用テスト
##  ube_maintain_test
#

# [Time.parse(s),Time.parse(e)]
#製造を入れないFreeList #保守を入れない FreeList -> testdata/freelist

assign1 = [
           [:dryn,"2012/6/5-14:00",2.hour, 
           "[[[06/01-08:00, 06/03-08:00],
              [06/04-08:00, 06/05-08:00],
              [06/07-10:00, 06/12-08:00],
              [06/13-08:00, 06/24-08:00],
              [06/27-08:00, 06/27-16:00],
              [06/28-08:00, 07/01-08:00]]",
            "[[06/01-08:00, 06/05-08:00],
              [06/07-10:00, 06/12-08:00],
              [06/13-08:00, 06/24-08:00],
              [06/27-08:00, 06/27-16:00],
              [06/28-08:00, 07/01-08:00]]]"],
           [:shozoe,"2012/6/5-14:00",2.hour, 
           "[[[06/01-08:00, 06/03-03:00],
              [06/05-11:00, 06/05-14:00],#
              [06/05-16:00, 06/07-08:00],#
              [06/08-08:00, 06/10-00:00],
              [06/11-11:00, 06/16-03:00],
              [06/17-11:00, 06/22-11:00],
              [06/26-11:00, 06/30-03:00]]",
            "[[06/01-08:00, 06/03-08:00],
              [06/05-08:00, 06/05-14:00],
              [06/05-16:00, 06/10-08:00],
              [06/11-08:00, 06/16-08:00],
              [06/17-08:00, 06/22-16:00],
              [06/26-08:00, 06/30-08:00]]]"
           ],
          [:shozow,"2012/6/5-14:00",2.hour,
          " [[[06/01-08:00, 06/03-03:00],
              [06/05-11:00, 06/05-14:00],
              [06/05-16:00, 06/06-07:00],
              [06/07-11:00, 06/09-23:00],
              [06/11-11:00, 06/16-03:00],
              [06/17-11:00, 06/22-11:00],
              [06/26-11:00, 06/30-03:00]]",
            "[[06/01-08:00, 06/04-08:00],
              [06/05-08:00, 06/05-14:00],
              [06/05-16:00, 06/06-12:00],
              [06/07-08:00, 06/10-08:00],
              [06/11-08:00, 06/16-08:00],
              [06/17-08:00, 06/22-16:00],
              [06/26-08:00, 06/30-08:00]]]"
           ]
          ]
Assign1={}
assign1.each{|real_ope,start,periad,times1,times2|
 Assign1[real_ope]=[Time.parse(start),periad,
                    [times1,times2].map{|times| 
                      times.gsub(/(^\s*\[+)|([\],])/,"").split(/\n/).
                      map{|line| line.split.map{|t| Time.parse("2012/"+t)}}}
                   ]
}

assign = [
          [:dryn,"2012/6/5-14:00",2.hour, #"2012/6/7-08:00","2012/6/7-10:00"
          "[[[06/01-08:00, 06/03-08:00],
             [06/04-08:00, 06/05-08:00],
             [06/07-10:00, 06/12-08:00],
             [06/13-08:00, 06/24-08:00],
             [06/27-08:00, 06/27-16:00],
             [06/28-08:00, 07/01-08:00]]",
           "[[06/01-08:00, 06/05-08:00],
             [06/07-10:00, 06/12-08:00],
             [06/13-08:00, 06/24-08:00],
             [06/27-08:00, 06/27-16:00],
             [06/28-08:00, 07/01-08:00]]]"
          ],
           [:shozoe,"2012/6/5-14:00",2.hour, 
           "[[[06/01-08:00, 06/03-03:00],
              [06/05-11:00, 06/05-14:00],
              [06/05-16:00, 06/07-08:00],
              [06/08-08:00, 06/10-00:00],
              [06/11-11:00, 06/16-03:00],
              [06/17-11:00, 06/22-11:00],
              [06/26-11:00, 06/30-03:00]]",
            "[[06/01-08:00, 06/03-08:00],
              [06/05-08:00, 06/05-14:00],
              [06/05-16:00, 06/10-08:00],
              [06/11-08:00, 06/16-08:00],
              [06/17-08:00, 06/22-16:00],
              [06/26-08:00, 06/30-08:00]]]"
           ],
           [:shozow,"2012/6/5-14:00",2.hour, 
            "[[06/01-08:00, 06/03-03:00],
              [06/05-11:00, 06/05-14:00],
              [06/05-16:00, 06/06-07:00],
              [06/07-11:00, 06/09-23:00],
              [06/11-11:00, 06/16-03:00],
              [06/17-11:00, 06/22-11:00],
              [06/26-11:00, 06/30-03:00]]",
            "[[06/01-08:00, 06/04-08:00],
              [06/05-08:00, 06/05-14:00],
              [06/05-16:00, 06/06-12:00],
              [06/07-08:00, 06/10-08:00],
              [06/11-08:00, 06/16-08:00],
              [06/17-08:00, 06/22-16:00],
              [06/26-08:00, 06/30-08:00]]]"
           ]
         ]
          
Assign={}
assign.each{|real_ope,start,periad,times1,times2|
 Assign[real_ope]=[Time.parse(start),periad,
                   [times1,times2].map{|times| 
                      times.gsub(/(^\s*\[+)|([\],])/,"").split(/\n/).
                      map{|line| line.split.map{|t| Time.parse("2012/"+t)}}
                   }
                  ]
}


FreeList3 = {
                  :kakou=>
                 "[[06/01-08:00, 06/03-08:00],
                   [06/04-08:00, 06/05-08:00],
                   [06/07-08:00, 06/08-08:08],
                   [06/08-08:09, 06/12-08:00],
                   [06/13-08:00, 06/18-08:00],
                   [06/19-08:00, 06/24-08:00],
                   [06/27-08:00, 06/27-16:00],
                   [06/28-08:00, 07/01-08:00]]",
                  :dryo=>
                  "[[06/01-08:00, 06/03-08:00],
                   [06/04-08:00, 06/05-08:00],
                   [06/07-08:00, 06/10-12:54],
                   [06/10-23:39, 06/12-08:00],
                   [06/13-08:00, 06/18-08:00],
                   [06/19-08:00, 06/24-08:00],
                   [06/27-08:00, 06/27-16:00],
                   [06/28-08:00, 07/01-08:00]]",
                  :dryn=>
                  "[[06/01-08:00, 06/03-08:00],
                   [06/04-08:00, 06/05-08:00],
                   [06/07-08:00, 06/12-08:00],
                   [06/13-08:00, 06/24-08:00],
                   [06/27-08:00, 06/27-16:00],
                   [06/28-08:00, 07/01-08:00]]",

                  :shozoe=>
                  "[[06/01-08:00, 06/03-03:00],
                   [06/05-11:00, 06/07-08:00],
                   [06/08-08:00, 06/10-03:00],
                   [06/11-11:00, 06/16-03:00],
                   [06/17-11:00, 06/22-11:00],
                   [06/26-11:00, 06/30-03:00]]",
                  :shozow=>
                  "[[06/01-08:00, 06/03-03:00],
                   [06/05-11:00, 06/08-09:09],
                   [06/08-20:54, 06/10-03:00],
                   [06/11-11:00, 06/16-03:00],
                   [06/17-11:00, 06/22-11:00],
                   [06/26-11:00, 06/30-03:00]]"
                }
FreeList3.each_key{|ope|
  FreeList3[ope] = FreeList3[ope].gsub(/(^\s*\[+)|([\],])/,"").split(/\n/).
  map{|line| line.split.map{|t| Time.parse("2012/"+t)}}
}
