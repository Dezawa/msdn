# -*- coding: utf-8 -*-

Holydays = Hash[
                {:kakou=>
                  [["06/05-08:00", "06/06-08:00"],
                   ["06/06-08:00", "06/07-08:00"],
                   ["06/12-08:00", "06/13-08:00"],
                   ["06/18-08:00", "06/19-08:00"],
                   ["06/24-08:00", "06/25-08:00"],
                   ["06/25-08:00", "06/26-08:00"],
                   ["06/26-08:00", "06/27-08:00"],
                   ["06/27-16:00", "06/28-08:00"]],
                  :dryo=>
                  [["06/05-08:00", "06/06-08:00"],
                   ["06/06-08:00", "06/07-08:00"],
                   ["06/12-08:00", "06/13-08:00"],
                   ["06/18-08:00", "06/19-08:00"],
                   ["06/24-08:00", "06/25-08:00"],
                   ["06/25-08:00", "06/26-08:00"],
                   ["06/26-08:00", "06/27-08:00"],
                   ["06/27-16:00", "06/28-08:00"]],
                  :dryn=>
                  [["06/05-08:00", "06/06-08:00"],
                   ["06/06-08:00", "06/07-08:00"],
                   ["06/12-08:00", "06/13-08:00"],
                   ["06/24-08:00", "06/25-08:00"],
                   ["06/25-08:00", "06/26-08:00"],
                   ["06/26-08:00", "06/27-08:00"],
                   ["06/27-16:00", "06/28-08:00"]],
                  :shozoe=>
                  [["06/03-08:00", "06/04-08:00"],
                   ["06/04-08:00", "06/05-08:00"],
                   ["06/10-08:00", "06/11-08:00"],
                   ["06/16-08:00", "06/17-08:00"],
                   ["06/22-16:00", "06/23-08:00"],
                   ["06/23-08:00", "06/24-08:00"],
                   ["06/24-08:00", "06/25-08:00"],
                   ["06/25-08:00", "06/26-08:00"],
                   ["06/30-08:00", "07/01-08:00"]],
                  :shozow=>
                  [["06/03-08:00", "06/04-08:00"],
                   ["06/04-08:00", "06/05-08:00"],
                   ["06/10-08:00", "06/11-08:00"],
                   ["06/16-08:00", "06/17-08:00"],
                   ["06/22-16:00", "06/23-08:00"],
                   ["06/23-08:00", "06/24-08:00"],
                   ["06/24-08:00", "06/25-08:00"],
                   ["06/25-08:00", "06/26-08:00"],
                   ["06/30-08:00", "07/01-08:00"]]
                }.map{|ope,list|
                  [ ope , list.map{|l| l.map{|s|  Time.parse "2012/"+s } } ]
                }]

# [Time.parse(s),Time.parse(e)]
FreeList = Hash[
                {
                  :kakou=>
                  [["06/01-08:00", "06/05-08:00"], 
                   ["06/07-08:00", "06/12-08:00"],
                   ["06/13-08:00", "06/18-08:00"],
                   ["06/19-08:00", "06/24-08:00"],
                   ["06/27-08:00", "06/27-16:00"],
                   ["06/28-08:00", "07/01-08:00"]],
                  :dryo=>
                  [["06/01-08:00", "06/05-08:00"],
                   ["06/07-08:00", "06/12-08:00"],
                   ["06/13-08:00", "06/18-08:00"],
                   ["06/19-08:00", "06/24-08:00"],
                   ["06/27-08:00", "06/27-16:00"],
                   ["06/28-08:00", "07/01-08:00"]],
                  :dryn=>
                  [["06/01-08:00", "06/05-08:00"],
                   ["06/07-08:00", "06/08-15:05"],
                   ["06/09-15:05", "06/12-08:00"],
                   ["06/13-08:00", "06/24-08:00"],
                   ["06/27-08:00", "06/27-16:00"],
                   ["06/28-08:00", "07/01-08:00"]],

                  :shozoe=>
                  [["06/01-08:00", "06/03-03:00"],
                   ["06/05-11:00", "06/10-03:00"],
                   ["06/11-11:00", "06/16-03:00"],
                   ["06/17-11:00", "06/22-11:00"],
                   ["06/26-11:00", "06/30-03:00"]],
                  :shozow=>
                  [["06/01-08:00", "06/03-03:00"], 
                   ["06/05-11:00", "06/05-15:05"],
                   ["06/06-15:05", "06/10-03:00"],
                   ["06/11-11:00", "06/16-03:00"],
                   ["06/17-11:00", "06/22-11:00"],
                   ["06/26-11:00", "06/30-03:00"]]
                }.map{|ope,list|
                  [ ope ,list.map{|l| l.map{|s|  Time.parse "2012/"+s } } ]
    }]
  
FreeList2 = Hash[
                 {
                   :kakou=>
                   [["06/01-08:00", "06/05-08:00"], 
                    ["06/05-15:05", "06/05-15:05"],
                    ["06/07-08:00", "06/12-08:00"],
                    ["06/13-08:00", "06/18-08:00"],
                    ["06/19-08:00", "06/24-08:00"],
                    ["06/27-08:00", "06/27-16:00"],
                    ["06/28-08:00", "07/01-08:00"]],
                   :dryo=>
                   [["06/01-08:00", "06/05-08:00"],
                    ["06/07-08:00", "06/12-08:00"],
                    ["06/13-08:00", "06/18-08:00"],
                    ["06/19-08:00", "06/24-08:00"],
                    ["06/27-08:00", "06/27-16:00"],
                    ["06/28-08:00", "07/01-08:00"]],
                   :dryn=>
                   [["06/01-08:00", "06/05-08:00"],
                    ["06/07-08:00", "06/12-08:00"],
                    ["06/13-08:00", "06/24-08:00"],
                    ["06/27-08:00", "06/27-16:00"],
                    ["06/28-08:00", "07/01-08:00"]],

                   :shozoe=>
                   [["06/01-08:00", "06/03-08:00"],
                    ["06/05-08:00", "06/10-08:00"],
                    ["06/11-08:00", "06/16-08:00"],
                    ["06/17-08:00", "06/22-16:00"],
                    ["06/26-08:00", "06/30-08:00"]],
                   :shozow=>
                   [["06/01-08:00", "06/03-08:00"],
                    ["06/05-08:00", "06/10-08:00"],
                    ["06/11-08:00", "06/16-08:00"],
                    ["06/17-08:00", "06/22-16:00"],
                    ["06/26-08:00", "06/30-08:00"]]
                 }.map{|ope,list|
                   [ ope ,list.map{|l| l.map{|s|  Time.parse "2012/"+s } } ]
                 }]

Assign1 = [
          [:dryn,"2012/6/5-14:00",2.hour, #"2012/6/7-08:00","2012/6/7-10:00"
           [["06/01-08:00", "06/05-08:00"],
            ["06/07-10:00", "06/08-15:05"],
            ["06/09-15:05", "06/12-08:00"],
            ["06/13-08:00", "06/24-08:00"],
            ["06/27-08:00", "06/27-16:00"],
            ["06/28-08:00", "07/01-08:00"]],
           [["06/01-08:00", "06/05-08:00"],
            ["06/07-10:00", "06/12-08:00"],
            ["06/13-08:00", "06/24-08:00"],
            ["06/27-08:00", "06/27-16:00"],
            ["06/28-08:00", "07/01-08:00"]]
          ],
          [:shozoe,"2012/6/5-14:00",2.hour, #"2012/6/5-14:00","2012/6/5-16:00"]
           [["06/01-08:00", "06/03-03:00"],
            ["06/05-11:00", "06/05-14:00"],
            ["06/05-16:00", "06/10-03:00"],
            ["06/11-11:00", "06/16-03:00"],
            ["06/17-11:00", "06/22-11:00"],
            ["06/26-11:00", "06/30-03:00"]],
           [["06/01-08:00", "06/03-08:00"],
            ["06/05-08:00", "06/05-14:00"],
            ["06/05-16:00", "06/10-08:00"],
           ["06/11-08:00", "06/16-08:00"],
            ["06/17-08:00", "06/22-16:00"],
            ["06/26-08:00", "06/30-08:00"]]
          ],
          [:shozow,"2012/6/5-14:00",2.hour, #"2012/6/5-14:00","2012/6/5-16:00"
           [["06/01-08:00", "06/03-03:00"], 
            ["06/05-11:00", "06/05-14:00"],
            ["06/06-15:05", "06/10-03:00"],
            ["06/11-11:00", "06/16-03:00"],
            ["06/17-11:00", "06/22-11:00"],
            ["06/26-11:00", "06/30-03:00"]],

           [["06/01-08:00", "06/03-08:00"],
            ["06/05-08:00", "06/05-14:00"],
            ["06/05-16:00", "06/10-08:00"],
            ["06/11-08:00", "06/16-08:00"],
            ["06/17-08:00", "06/22-16:00"],
            ["06/26-08:00", "06/30-08:00"]]
          ]
         ].map{|real_ope,start,periad,times1,times2|
  [real_ope,Time.parse(start),periad,
   [times1,times2].map{|times| times.map{|time| time.map{|t| Time.parse "2012/"+t}}}
  ]
}

Assign = [
          [:dryn,"2012/6/5-14:00",2.hour, #"2012/6/7-08:00","2012/6/7-10:00"
           [["06/01-08:00", "06/05-08:00"],
            ["06/07-10:00", "06/08-15:05"],
            ["06/09-15:05", "06/12-08:00"],
            ["06/13-08:00", "06/24-08:00"],
            ["06/27-08:00", "06/27-16:00"],
            ["06/28-08:00", "07/01-08:00"]],
           [["06/01-08:00", "06/05-08:00"],
            ["06/07-10:00", "06/12-08:00"],
            ["06/13-08:00", "06/24-08:00"],
            ["06/27-08:00", "06/27-16:00"],
            ["06/28-08:00", "07/01-08:00"]]
          ],
          [:shozoe,"2012/6/5-14:00",2.hour, #"2012/6/5-14:00","2012/6/5-16:00"]
           [["06/01-08:00", "06/03-03:00"],
            ["06/05-11:00", "06/05-14:00"],
            ["06/05-16:00", "06/10-03:00"],
            ["06/11-11:00", "06/16-03:00"],
            ["06/17-11:00", "06/22-11:00"],
            ["06/26-11:00", "06/30-03:00"]],
           [["06/01-08:00", "06/03-08:00"],
            ["06/05-08:00", "06/05-14:00"],
            ["06/05-16:00", "06/10-08:00"],
            ["06/11-08:00", "06/16-08:00"],
            ["06/17-08:00", "06/22-16:00"],
            ["06/26-08:00", "06/30-08:00"]]
          ],
          [:shozow,"2012/6/5-14:00",2.hour, #"2012/6/6-15:05","2012/6/6-17:05"]
           [["06/01-08:00", "06/03-03:00"], 
            ["06/05-11:00", "06/05-15:05"],
            ["06/06-17:05", "06/10-03:00"],
            ["06/11-11:00", "06/16-03:00"],
            ["06/17-11:00", "06/22-11:00"],
            ["06/26-11:00", "06/30-03:00"]],

           [["06/01-08:00", "06/03-08:00"],
            ["06/05-08:00", "06/06-15:05"],
            ["06/06-17:05", "06/10-08:00"],
            ["06/11-08:00", "06/16-08:00"],
            ["06/17-08:00", "06/22-16:00"],
            ["06/26-08:00", "06/30-08:00"]]
          ]
         ].map{|real_ope,start,periad,times1,times2|
  [real_ope,Time.parse(start),periad,
   [times1,times2].map{|times| times.map{|time| time.map{|t| Time.parse "2012/"+t}}}
  ]
}
