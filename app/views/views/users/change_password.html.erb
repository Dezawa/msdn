<h1>パスワード変更</h1>
<%= @user.errors.to_a.to_s +  "=====" %>
<%= flash[:notice] %>
<%= error_messages_for :user %>
<%= form_tag( {:controller => :users,:action=>:password_update})  -%>
<table border=1><tr><td>項目</td><td>コメント</td><td>値</td></tr>
<% @Labels.each_with_index{|lbl,i| next if lbl == "id" %>
<%= "<tr><td>#{lbl}</td><td>#{@HelpMsg[i]}</td><td>"+
 (case @InputType[i]
    when :text     ; text_field     :user,lbl.to_sym,:value=>@user[lbl]
    when :password ;password_field  :user,lbl.to_sym
    when :bool     ;
     (radio_button( :user,lbl.to_sym,true, :checked=> @user[lbl]==true ? 'checked':'')+"可"+
      radio_button( :user,lbl.to_sym,false,:checked=> @user[lbl]==true ? '':'checked')+"否"
     )
    end
)+
"</td>" %><% } %></tr>
</table>
<% [:login,:name,:id,:email].each{|sym| %><%= hidden_field(:user,sym) %> <% } %>
<p><%= submit_tag 'パスワード変更' %></p>
<%# end -%>
